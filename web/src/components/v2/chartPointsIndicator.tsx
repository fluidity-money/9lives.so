import usePointsForDppmMint from "@/hooks/usePointsForDppmMint";

type DefaultProps = {
  starting: number;
  ending: number;
};

type Props = DefaultProps;

export default function ChartPointsIndicator({ starting, ending }: Props) {
  const points = usePointsForDppmMint(starting, ending);

  if (!points) return null;

  return (
    <div className="inline-flex items-center justify-center gap-0.5 rounded-full border border-purple-400 bg-purple-100 px-2 py-0.5">
      <svg
        width="8"
        height="8"
        viewBox="0 0 8 8"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M2.36938 1.91655C2.34281 1.89001 2.32174 1.8585 2.30736 1.82382C2.29299 1.78914 2.28559 1.75196 2.28559 1.71441C2.28559 1.67687 2.29299 1.63969 2.30736 1.60501C2.32174 1.57033 2.34281 1.53882 2.36938 1.51228L3.79787 0.0837915C3.8244 0.0572283 3.85591 0.0361554 3.89059 0.0217779C3.92528 0.00740031 3.96245 0 4 0C4.03755 0 4.07472 0.00740031 4.10941 0.0217779C4.14409 0.0361554 4.1756 0.0572283 4.20213 0.0837915L5.63062 1.51228C5.65719 1.53882 5.67826 1.57033 5.69264 1.60501C5.70701 1.63969 5.71441 1.67687 5.71441 1.71441C5.71441 1.75196 5.70701 1.78914 5.69264 1.82382C5.67826 1.8585 5.65719 1.89001 5.63062 1.91655L4.20213 3.34504C4.1756 3.3716 4.14409 3.39267 4.10941 3.40705C4.07472 3.42143 4.03755 3.42883 4 3.42883C3.96245 3.42883 3.92528 3.42143 3.89059 3.40705C3.85591 3.39267 3.8244 3.3716 3.79787 3.34504L2.36938 1.91655ZM4.20213 4.65496C4.1756 4.6284 4.14409 4.60733 4.10941 4.59295C4.07472 4.57857 4.03755 4.57117 4 4.57117C3.96245 4.57117 3.92528 4.57857 3.89059 4.59295C3.85591 4.60733 3.8244 4.6284 3.79787 4.65496L2.36938 6.08345C2.34281 6.10999 2.32174 6.1415 2.30736 6.17618C2.29299 6.21086 2.28559 6.24804 2.28559 6.28559C2.28559 6.32313 2.29299 6.36031 2.30736 6.39499C2.32174 6.42967 2.34281 6.46118 2.36938 6.48772L3.79787 7.91621C3.8244 7.94277 3.85591 7.96384 3.89059 7.97822C3.92528 7.9926 3.96245 8 4 8C4.03755 8 4.07472 7.9926 4.10941 7.97822C4.14409 7.96384 4.1756 7.94277 4.20213 7.91621L5.63062 6.48772C5.65719 6.46118 5.67826 6.42967 5.69264 6.39499C5.70701 6.36031 5.71441 6.32313 5.71441 6.28559C5.71441 6.24804 5.70701 6.21086 5.69264 6.17618C5.67826 6.1415 5.65719 6.10999 5.63062 6.08345L4.20213 4.65496ZM7.91621 3.79787L6.48772 2.36938C6.46118 2.34281 6.42967 2.32174 6.39499 2.30736C6.36031 2.29299 6.32313 2.28559 6.28559 2.28559C6.24804 2.28559 6.21086 2.29299 6.17618 2.30736C6.1415 2.32174 6.10999 2.34281 6.08345 2.36938L4.65496 3.79787C4.6284 3.8244 4.60733 3.85591 4.59295 3.89059C4.57857 3.92528 4.57117 3.96245 4.57117 4C4.57117 4.03755 4.57857 4.07472 4.59295 4.10941C4.60733 4.14409 4.6284 4.1756 4.65496 4.20213L6.08345 5.63062C6.10999 5.65719 6.1415 5.67826 6.17618 5.69264C6.21086 5.70701 6.24804 5.71441 6.28559 5.71441C6.32313 5.71441 6.36031 5.70701 6.39499 5.69264C6.42967 5.67826 6.46118 5.65719 6.48772 5.63062L7.91621 4.20213C7.94277 4.1756 7.96384 4.14409 7.97822 4.10941C7.9926 4.07472 8 4.03755 8 4C8 3.96245 7.9926 3.92528 7.97822 3.89059C7.96384 3.85591 7.94277 3.8244 7.91621 3.79787ZM3.34504 3.79787L1.91655 2.36938C1.89001 2.34281 1.8585 2.32174 1.82382 2.30736C1.78914 2.29299 1.75196 2.28559 1.71441 2.28559C1.67687 2.28559 1.63969 2.29299 1.60501 2.30736C1.57033 2.32174 1.53882 2.34281 1.51228 2.36938L0.0837915 3.79787C0.0572283 3.8244 0.0361554 3.85591 0.0217779 3.89059C0.00740031 3.92528 0 3.96245 0 4C0 4.03755 0.00740031 4.07472 0.0217779 4.10941C0.0361554 4.14409 0.0572283 4.1756 0.0837915 4.20213L1.51228 5.63062C1.53882 5.65719 1.57033 5.67826 1.60501 5.69264C1.63969 5.70701 1.67687 5.71441 1.71441 5.71441C1.75196 5.71441 1.78914 5.70701 1.82382 5.69264C1.8585 5.67826 1.89001 5.65719 1.91655 5.63062L3.34504 4.20213C3.3716 4.1756 3.39267 4.14409 3.40705 4.10941C3.42143 4.07472 3.42883 4.03755 3.42883 4C3.42883 3.96245 3.42143 3.92528 3.40705 3.89059C3.39267 3.85591 3.3716 3.8244 3.34504 3.79787Z"
          fill="#9333EA"
        />
      </svg>

      <span className="text-nowrap text-[9px] font-medium text-purple-600">
        EARN x{points.toFixed(2)} POINTS
      </span>
    </div>
  );
}
